Ya trabajando en directorio actual:  /mnt/atgc-d3/sur/users/ENESL-MarcosR/PSEUDOMONAS_SCRIPTS/OriginalSetRANDOMFOREST
abriendo el archivo
empezamos con los chunks
tomamos los chunks
listo para concatenar todo
         Genomas Cluster0 Cluster1  ... Cluster405870 Cluster405871   
0     2228664007        0        0  ...             0             0   
1     2501799902        0        0  ...             0             0   
2     2501846300        0        0  ...             0             0   
3     2502790010        0        0  ...             0             0   
4     2503538034        0        0  ...             0             0   
...          ...      ...      ...  ...           ...           ... ..
3889  8087728815        0        0  ...             0             0   
3890  8088455273        0        0  ...             0             0   
3891  8088461797        0        0  ...             0             0   
3892  8088468458        0        0  ...             0             0   
3893  8088474632        0        0  ...             0             0  6

[3894 rows x 405874 columns]
Columnas de df antes de eliminar: Index(['Genomas', 'Cluster0', 'Cluster1', 'Cluster2', 'Cluster3', 'Cluster4',
       'Cluster5', 'Cluster6', 'Cluster7', 'Cluster8',
       ...
       'Cluster405863', 'Cluster405864', 'Cluster405865', 'Cluster405866',
       'Cluster405867', 'Cluster405868', 'Cluster405869', 'Cluster405870',
       'Cluster405871', ''],
      dtype='object', length=405874)
['']
         Genomas Cluster0 Cluster1  ... Cluster405869 Cluster405870 Cluster405871
0     2228664007        0        0  ...             0             0             0
1     2501799902        0        0  ...             0             0             0
2     2501846300        0        0  ...             0             0             0
3     2502790010        0        0  ...             0             0             0
4     2503538034        0        0  ...             0             0             0
...          ...      ...      ...  ...           ...           ...           ...
3889  8087728815        0        0  ...             0             0             0
3890  8088455273        0        0  ...             0             0             0
3891  8088461797        0        0  ...             0             0             0
3892  8088468458        0        0  ...             0             0             0
3893  8088474632        0        0  ...             0             0             0

[3894 rows x 405873 columns]
Columnas de df después de eliminar: Index(['Genomas', 'Cluster0', 'Cluster1', 'Cluster2', 'Cluster3', 'Cluster4',
       'Cluster5', 'Cluster6', 'Cluster7', 'Cluster8',
       ...
       'Cluster405862', 'Cluster405863', 'Cluster405864', 'Cluster405865',
       'Cluster405866', 'Cluster405867', 'Cluster405868', 'Cluster405869',
       'Cluster405870', 'Cluster405871'],
      dtype='object', length=405873)
Ahora si las dimensiones de la matriz dataframe
(3894, 405873)
         Genomas     Nicho
0     2740892069  mamifero
1     2886129330  mamifero
2     2740892099  mamifero
3     8010912407  mamifero
4     2888734210  mamifero
...          ...       ...
3889  2791355645     vacio
3890  2877800095     vacio
3891  8035357749     vacio
3892  2939020026     vacio
3893  2675902956     vacio

[3894 rows x 2 columns]
antes de concatenar las tablas
         Genomas Cluster0 Cluster1  ... Cluster405870 Cluster405871     Nicho
0     2228664007        0        0  ...             0             0     vacio
1     2501799902        0        0  ...             0             0  mamifero
2     2501846300        0        0  ...             0             0  mamifero
3     2502790010        0        0  ...             0             0  mamifero
4     2503538034        0        0  ...             0             0     vacio
...          ...      ...      ...  ...           ...           ...       ...
3889  8087728815        0        0  ...             0             0     vacio
3890  8088455273        0        0  ...             0             0     vacio
3891  8088461797        0        0  ...             0             0     vacio
3892  8088468458        0        0  ...             0             0     vacio
3893  8088474632        0        0  ...             0             0     vacio

[3894 rows x 405874 columns]
Una vez que ya se hizo como indice la columna Genomas
               Genomas Cluster0 Cluster1  ... Cluster405870 Cluster405871     Nicho
Genomas                                   ...                                      
2228664007  2228664007        0        0  ...             0             0     vacio
2501799902  2501799902        0        0  ...             0             0  mamifero
2501846300  2501846300        0        0  ...             0             0  mamifero
2502790010  2502790010        0        0  ...             0             0  mamifero
2503538034  2503538034        0        0  ...             0             0     vacio
...                ...      ...      ...  ...           ...           ...       ...
8087728815  8087728815        0        0  ...             0             0     vacio
8088455273  8088455273        0        0  ...             0             0     vacio
8088461797  8088461797        0        0  ...             0             0     vacio
8088468458  8088468458        0        0  ...             0             0     vacio
8088474632  8088474632        0        0  ...             0             0     vacio

[3894 rows x 405874 columns]
Index(['2228664007', '2501799902', '2501846300', '2502790010', '2503538034',
       '2504643024', '2505313002', '2505313005', '2505313027', '2505313040',
       ...
       '8087295818', '8087536365', '8087590616', '8087597119', '8087603415',
       '8087728815', '8088455273', '8088461797', '8088468458', '8088474632'],
      dtype='object', name='Genomas', length=3894)
(1414, 405874)
               Genomas Cluster0 Cluster1  ... Cluster405870 Cluster405871     Nicho
Genomas                                   ...                                      
2501799902  2501799902        0        0  ...             0             0  mamifero
2501846300  2501846300        0        0  ...             0             0  mamifero
2502790010  2502790010        0        0  ...             0             0  mamifero
2505313002  2505313002        0        0  ...             0             0  mamifero
2505313005  2505313005        0        0  ...             0             0  mamifero

[5 rows x 405874 columns]
los nichos los hacemos array
[['mamifero' 0]
 ['mamifero' 0]
 ['mamifero' 0]
 ...
 ['planta' 1]
 ['planta' 1]
 ['planta' 1]]
la matriz la hacemos arreglo
Training Features Shape: (1131, 405872)
Training Labels Shape: (1131,)
Testing Features Shape: (283, 405872)
Testing Labels Shape: (283,)
               Importancia
Cluster213635     0.291443
Cluster241888     0.097511
Cluster52428      0.081048
Cluster67881      0.064556
Cluster165846     0.064108
...                    ...
Cluster135460     0.000000
Cluster135459     0.000000
Cluster135458     0.000000
Cluster135457     0.000000
Cluster405871     0.000000

[405872 rows x 1 columns]
               Importancia
Cluster213635     0.291443
Cluster241888     0.097511
Cluster52428      0.081048
Cluster67881      0.064556
Cluster165846     0.064108
...                    ...
Cluster88829      0.000474
Cluster152628     0.000473
Cluster54598      0.000473
Cluster303035     0.000467
Cluster233720     0.000465

[100 rows x 1 columns]
columnas 100; extraidas:  [array(['1', '1', '1', ..., '0', '0', '0'], dtype=object), array(['1', '1', '1', ..., '0', '0', '0'], dtype=object), array(['1', '1', '1', ..., '0', '0', '0'], dtype=object), array(['0', '1', '1', ..., '0', '0', '0'], dtype=object), array(['1', '1', '1', ..., '0', '0', '0'], dtype=object), array(['1', '1', '1', ..., '0', '0', '0'], dtype=object), array(['1', '1', '1', ..., '0', '0', '0'], dtype=object), array(['1', '1', '1', ..., '0', '0', '0'], dtype=object), array(['0', '1', '1', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '1', '1', '1'], dtype=object), array(['0', '0', '0', ..., '1', '1', '2'], dtype=object), array(['2', '2', '2', ..., '0', '0', '0'], dtype=object), array(['1', '1', '1', ..., '0', '0', '0'], dtype=object), array(['1', '1', '1', ..., '0', '0', '0'], dtype=object), array(['1', '1', '1', ..., '0', '0', '0'], dtype=object), array(['1', '1', '1', ..., '0', '0', '0'], dtype=object), array(['1', '1', '1', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['1', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['1', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['1', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '1', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['1', '1', '1', ..., '1', '1', '1'], dtype=object), array(['0', '0', '0', ..., '1', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['1', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '1', ..., '0', '0', '0'], dtype=object), array(['1', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['1', '1', '1', ..., '0', '0', '0'], dtype=object), array(['1', '1', '1', ..., '1', '1', '1'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['1', '2', '2', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['1', '0', '0', ..., '0', '0', '0'], dtype=object), array(['1', '1', '1', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '1', '1', '1'], dtype=object), array(['1', '1', '1', ..., '2', '2', '2'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '3', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '1', '1', ..., '0', '0', '0'], dtype=object), array(['0', '2', '2', ..., '1', '1', '1'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['2', '1', '2', ..., '2', '2', '2'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '2', '1', '1'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['1', '1', '1', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['1', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '1', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '1', '1', ..., '1', '1', '1'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['1', '1', '1', ..., '1', '1', '1'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object), array(['0', '0', '0', ..., '0', '0', '0'], dtype=object)]
matriz mtz_clustercien creada\n            213635 241888 52428 67881  ... 54598 303035 233720     Nicho
Genomas                               ...                              
2501799902      1      1     1     0  ...     0      0      0  mamifero
2501846300      1      1     1     1  ...     0      0      0  mamifero
2502790010      1      1     1     1  ...     0      0      0  mamifero
2505313002      1      1     1     1  ...     0      0      0  mamifero
2505313005      1      1     1     1  ...     0      0      0  mamifero
...           ...    ...   ...   ...  ...   ...    ...    ...       ...
8086947143      0      0     0     0  ...     0      0      0    planta
8087536365      1      1     1     1  ...     0      0      0    planta
8087590616      0      0     0     0  ...     0      0      0    planta
8087597119      0      0     0     0  ...     0      0      0    planta
8087603415      0      0     0     0  ...     0      0      0    planta

[1414 rows x 101 columns]
indices de mtz_clustercien \n Index(['2501799902', '2501846300', '2502790010', '2505313002', '2505313005',
       '2505313027', '2505313040', '2505313041', '2505313042', '2505313043',
       ...
       '8079031769', '8079054357', '8079069389', '8079075367', '8079462635',
       '8086947143', '8087536365', '8087590616', '8087597119', '8087603415'],
      dtype='object', name='Genomas', length=1414)
columnas de mtz_clustercien \n Index(['213635', '241888', '52428', '67881', '165846', '30345', '304387',
       '92664', '84321', '62890',
       ...
       '196463', '257996', '231174', '124489', '88829', '152628', '54598',
       '303035', '233720', 'Nicho'],
      dtype='object', length=101)
Continuamos hacia el conteo, juntando en indice y las 100 columnas
u ['mamifero' 'planta'] c ['213635', '241888', '52428', '67881', '165846', '30345', '304387', '92664', '84321', '62890', '56513', '33007', '301080', '226407', '42866', '16627', '103436', '285028', '57698', '46912', '67223', '335417', '95598', '101', '222296', '12033', '138240', '58509', '234438', '44623', '91580', '69722', '200644', '174278', '26779', '34872', '250057', '63963', '17717', '165978', '182790', '209883', '34896', '1041', '126059', '8041', '7722', '130376', '260416', '77939', '323101', '44820', '68384', '255782', '102056', '22732', '78522', '45743', '172027', '262842', '24995', '83737', '22650', '200364', '403857', '211908', '49456', '50391', '89143', '319423', '306613', '193061', '109273', '10671', '28370', '122269', '151070', '35165', '62727', '134601', '84910', '12182', '336033', '74015', '231392', '232620', '119070', '146224', '170426', '317808', '40106', '196463', '257996', '231174', '124489', '88829', '152628', '54598', '303035', '233720', 'Nicho']
A eliminar la palabra Nicho de la lista c
['213635', '241888', '52428', '67881', '165846', '30345', '304387', '92664', '84321', '62890', '56513', '33007', '301080', '226407', '42866', '16627', '103436', '285028', '57698', '46912', '67223', '335417', '95598', '101', '222296', '12033', '138240', '58509', '234438', '44623', '91580', '69722', '200644', '174278', '26779', '34872', '250057', '63963', '17717', '165978', '182790', '209883', '34896', '1041', '126059', '8041', '7722', '130376', '260416', '77939', '323101', '44820', '68384', '255782', '102056', '22732', '78522', '45743', '172027', '262842', '24995', '83737', '22650', '200364', '403857', '211908', '49456', '50391', '89143', '319423', '306613', '193061', '109273', '10671', '28370', '122269', '151070', '35165', '62727', '134601', '84910', '12182', '336033', '74015', '231392', '232620', '119070', '146224', '170426', '317808', '40106', '196463', '257996', '231174', '124489', '88829', '152628', '54598', '303035', '233720'] False
matriz vacia, creandose
matriz vacia, creada, continuamos con concatenar los 100 mejores cluster en la matriz vacia
(2, 100)
   Caracteristica Cluster Frecuencia
0        mamifero  213635        451
1          planta  213635         28
2        mamifero  241888        434
3          planta  241888         15
4        mamifero   52428        438
5          planta   52428         18
6        mamifero   67881        449
7          planta   67881         32
8        mamifero  165846        430
9          planta  165846         14
10       mamifero   30345        433
11         planta   30345         17
12       mamifero  304387        423
13         planta  304387         10
14       mamifero   92664        434
15         planta   92664         22
16       mamifero   84321        425
17         planta   84321         12
18       mamifero   62890         64
19         planta   62890        911
20       mamifero   56513         50
21         planta   56513        900
22       mamifero   33007        872
23         planta   33007        177
24       mamifero  301080        429
25         planta  301080         13
26       mamifero  226407        428
27         planta  226407         17
28       mamifero   42866        442
29         planta   42866         24
30       mamifero   16627        856
31         planta   16627         27
32       mamifero  103436        436
33         planta  103436         29
34       mamifero  285028         15
35         planta  285028          3
36       mamifero   57698        216
37         planta   57698          2
38       mamifero   46912         69
39         planta   46912         15
40       mamifero   67223        315
41         planta   67223          2
42       mamifero  335417         68
43         planta  335417         10
44       mamifero   95598        134
45         planta   95598          6
46       mamifero     101         12
47         planta     101         40
48       mamifero  222296          1
49         planta  222296          2
   Caracteristica Cluster Frecuencia
0        mamifero   12033          2
1          planta   12033          0
2        mamifero  138240         45
3          planta  138240          0
4        mamifero   58509         60
5          planta   58509         15
6        mamifero  234438         25
7          planta  234438          5
8        mamifero   44623         10
9          planta   44623          2
10       mamifero   91580         13
11         planta   91580          1
12       mamifero   69722         22
13         planta   69722        686
14       mamifero  200644         12
15         planta  200644         47
16       mamifero  174278        490
17         planta  174278        875
18       mamifero   26779         27
19         planta   26779        353
20       mamifero   34872          8
21         planta   34872          0
22       mamifero  250057         20
23         planta  250057          6
24       mamifero   63963         82
25         planta   63963          4
26       mamifero   17717         15
27         planta   17717         28
28       mamifero  165978          7
29         planta  165978          2
30       mamifero  182790        167
31         planta  182790          6
32       mamifero  209883        161
33         planta  209883        210
34       mamifero   34896          3
35         planta   34896          9
36       mamifero    1041          4
37         planta    1041          3
38       mamifero  126059          4
39         planta  126059          2
40       mamifero    8041         64
41         planta    8041         33
42       mamifero    7722          2
43         planta    7722          0
44       mamifero  130376        229
45         planta  130376         22
46       mamifero  260416        154
47         planta  260416          6
48       mamifero   77939          4
49         planta   77939        538
   Caracteristica Cluster Frecuencia
0        mamifero  323101         28
1          planta  323101         12
2        mamifero   44820        503
3          planta   44820        158
4        mamifero   68384        446
5          planta   68384        861
6        mamifero  255782         87
7          planta  255782          2
8        mamifero  102056         79
9          planta  102056         68
10       mamifero   22732        822
11         planta   22732        955
12       mamifero   78522         17
13         planta   78522         16
14       mamifero   45743          2
15         planta   45743          2
16       mamifero  172027          1
17         planta  172027          3
18       mamifero  262842         78
19         planta  262842          4
20       mamifero   24995        436
21         planta   24995         37
22       mamifero   83737         11
23         planta   83737        597
24       mamifero   22650        505
25         planta   22650       1194
26       mamifero  200364         73
27         planta  200364        120
28       mamifero  403857          5
29         planta  403857          1
30       mamifero  211908         11
31         planta  211908          7
32       mamifero   49456         23
33         planta   49456        493
34       mamifero   50391          6
35         planta   50391         58
36       mamifero   89143         18
37         planta   89143          5
38       mamifero  319423          2
39         planta  319423          2
40       mamifero  306613          7
41         planta  306613          1
42       mamifero  193061         18
43         planta  193061         47
44       mamifero  109273        400
45         planta  109273         11
46       mamifero   10671        728
47         planta   10671        458
48       mamifero   28370         40
49         planta   28370          7
   Caracteristica Cluster Frecuencia
0        mamifero  122269         24
1          planta  122269          5
2        mamifero  151070          0
3          planta  151070          1
4        mamifero   35165        962
5          planta   35165        783
6        mamifero   62727          9
7          planta   62727          8
8        mamifero  134601         12
9          planta  134601        359
10       mamifero   84910         27
11         planta   84910          8
12       mamifero   12182          3
13         planta   12182          2
14       mamifero  336033        394
15         planta  336033         10
16       mamifero   74015         33
17         planta   74015         29
18       mamifero  231392          8
19         planta  231392          4
20       mamifero  232620          8
21         planta  232620          0
22       mamifero  119070         12
23         planta  119070          4
24       mamifero  146224          3
25         planta  146224          1
26       mamifero  170426         76
27         planta  170426          8
28       mamifero  317808          8
29         planta  317808          2
30       mamifero   40106          3
31         planta   40106         47
32       mamifero  196463          6
33         planta  196463          6
34       mamifero  257996          6
35         planta  257996          1
36       mamifero  231174        483
37         planta  231174        487
38       mamifero  124489         12
39         planta  124489         10
40       mamifero   88829         30
41         planta   88829         15
42       mamifero  152628        504
43         planta  152628        935
44       mamifero   54598         15
45         planta   54598          4
46       mamifero  303035         13
47         planta  303035          7
48       mamifero  233720          2
49         planta  233720          0
Matriz de confusión guardada exitosamente
Accuracy: 0.9717314487632509
Precision: 0.9717061115344812
Recall: 0.9717314487632509
F1 Score: 0.9716654950177763
Elapsed time to compute the importances: 13476.889 seconds
